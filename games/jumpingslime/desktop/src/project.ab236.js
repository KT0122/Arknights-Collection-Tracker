window.__require=function t(e,i,n){function o(s,u){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!u&&h)return h(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var a=i[s]={exports:{}};e[s][0].call(a.exports,function(t){return o(e[s][1][t]||t)},a,a.exports,t,e,i,n)}return i[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({"button-restart":[function(t,e,i){"use strict";cc._RF.push(e,"a9ba6ujr8FFXpKvWAVX+i1Y","button-restart"),cc.Class({extends:cc.Component,properties:{button:cc.Button},restartGame:function(){cc.log("pressed"),cc.director.loadScene("scenes/testing")},start:function(){}}),cc._RF.pop()},{}],singleton:[function(t,e,i){"use strict";cc._RF.push(e,"f4e46JK7wRO55wotxcwX0qH","singleton"),cc.Class({extends:cc.Component,properties:{slime:{default:null,type:cc.Node},watermelon:{default:null,type:cc.Node},touch:{default:null,type:cc.Node},buttonStart:{default:null,type:cc.Button},buttonRestart:{default:null,type:cc.Button}},buttonRestartShow:function(){this.buttonRestart.node.active=!0},start:function(){}}),cc._RF.pop()},{}],slime:[function(t,e,i){"use strict";cc._RF.push(e,"bdebbK+8GlJYIaFLoEpkxXk","slime"),cc.Class({extends:cc.Component,properties:{point:0,duration:3,height:30,velocity:2,moving:!1,jumping:!1,moveDirection:1,label_score:{default:null,type:cc.Label},touch:{default:null,type:cc.Node},singleton:{default:null,type:cc.Node}},jump:function(){var t=cc.moveBy(this.duration,cc.v2(0,this.height)).easing(cc.easeCubicActionOut()),e=cc.moveBy(this.duration,cc.v2(0,-this.height)).easing(cc.easeCubicActionIn()),i=cc.callFunc(function(){this.jumping=!1},this);return cc.sequence(t,e,i)},move:function(t,e){this.moving&&(1===t?this.node.x+=this.velocity*e:-1===t&&(this.node.x-=this.velocity*e))},onKeyDown:function(t){if(this.moving)switch(t.keyCode){case cc.macro.KEY.space:this.jumping||this.node.runAction(this.slimejump),this.jumping=!0;break;case cc.macro.KEY.left:this.moveDirection=-1;break;case cc.macro.KEY.right:this.moveDirection=1}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.left:case cc.macro.KEY.right:this.moving=!1}},onCollisionEnter:function(t,e){var i=this.touch.getComponent("touch");this.point++,this.label_score.string=this.point,i.fruits.splice(i.fruits.indexOf(t.node),1),t.node.destroy(),t.getComponent("watermelon").bomb&&(i.fruits.forEach(function(t){t.getComponent("watermelon").fall=!1}),i.gameover=!0,i.moving=!1,this.moving=!1,this.singleton.getComponent("singleton").buttonRestartShow(),cc.log("GAME OVER"))},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.slimejump=this.jump()},start:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},update:function(t){}}),cc._RF.pop()},{}],touch:[function(t,e,i){"use strict";cc._RF.push(e,"44debPjWs1Cb7XRT/S5pszc","touch"),cc.Class({extends:cc.Component,properties:{gameover:!1,count:0,fruit:{default:null,type:cc.Node},speed:500,position:0,threshold:100,moving:!1,touchStartX:0,touchMoveX:0,slime:{default:null,type:cc.Node},spawnTimeLimit:{default:null,low:1,high:5},fruitParent:{default:null,type:cc.Node},fruits:[]},onTouchStart:function(t){this.gameover||(this.touchStartX=t.getLocation().x,this.moving=!0)},onTouchEnd:function(t){this.moving=!1,this.touchMoveX=0,this.touchStartX=0},onTouchMove:function(t){this.touchMoveX=t.getLocation().x},spawnFruit:function(){var t=cc.instantiate(this.fruit),e=t.getComponent("watermelon");t.name="watermelon-"+this.count,e.fall=!0,2==Math.round(this.randomRange(0,5))&&(e.bomb=!0),this.fruits.push(t),t.parent=this.fruitParent,t.setPosition(this.randomRange(0,cc.view.getVisibleSize().width),cc.view.getVisibleSize().height),this.count++},randomRange:function(t,e){return Math.random()*(e-t)+t},onLoad:function(){this.slime=cc.find("slime")},start:function(){this.schedule(function(){this.gameover||this.spawnFruit()},this.randomRange(.5,2))},update:function(t){this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchmove",this.onTouchMove,this),this.moving&&(this.position=this.touchMoveX,(this.touchMoveX>0||this.touchMoveX<0)&&(this.position=-1*(this.touchStartX-this.touchMoveX)),this.position>this.threshold?this.slime.x+=this.speed*t:this.position<-this.threshold&&(this.slime.x-=this.speed*t),this.slime.x<0?this.slime.x=0:this.slime.x>cc.view.getVisibleSize().width&&(this.slime.x=cc.view.getVisibleSize().width))}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"594b2JKRUNO9ZYEcVxQu9LV","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],watermelon:[function(t,e,i){"use strict";cc._RF.push(e,"ae1419kM2JGT7eaAuD0MuO4","watermelon"),cc.Class({extends:cc.Component,properties:{watermelon:{default:null,type:cc.SpriteFrame},banana:{default:null,type:cc.SpriteFrame},apple:{default:null,type:cc.SpriteFrame},orange:{default:null,type:cc.SpriteFrame},fruitBomb:{default:null,type:cc.SpriteFrame},bomb:!1,speed:200,fall:!1,touch:{default:null,type:cc.Node}},randomRange:function(t,e){return Math.random()*(e-t)+t},onLoad:function(){this.touch=cc.find("Canvas/control/bg"),this.fruits=[this.watermelon,this.banana,this.apple,this.orange];var t=Math.round(this.randomRange(0,3));this.getComponent(cc.Sprite).spriteFrame=this.fruits[t],this.speed=[400,200,150,120,500][t]},start:function(){this.bomb&&(this.getComponent(cc.Sprite).spriteFrame=this.fruitBomb)},update:function(t){if(this.fall&&"watermelon"!=this.node.name&&(this.node.y-=this.speed*t),this.node.y<-200){var e=this.touch.getComponent("touch");e.fruits.splice(e.fruits.indexOf(this.node),1),this.node.destroy(),cc.log(e.fruits)}}}),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","button-restart","singleton","slime","touch","watermelon"]);